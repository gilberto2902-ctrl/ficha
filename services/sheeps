export async function sendToGoogleSheets(formData: any) {
  const SCRIPT_URL =
    'https://script.google.com/macros/s/AKfycbxMkXwhzsIu_vaL2K4LB1Y98lkvG4fhWAOKU6tF8ZHHOp9vLlnps8abVF2p1mRBLroQdw/exec';

  const body = new URLSearchParams();

  Object.entries(formData).forEach(([key, value]) => {
    body.append(
      key,
      typeof value === 'object' ? JSON.stringify(value) : String(value ?? '')
    );
  });

  // ‚ö†Ô∏è N√ÉO valide response.ok
  await fetch(SCRIPT_URL, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
    },
    body,
    redirect: 'follow', // üëà importante
  });

  // Se chegou aqui, considere sucesso
  return true;
}
